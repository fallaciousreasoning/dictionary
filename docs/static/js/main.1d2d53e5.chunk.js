(this.webpackJsonpdictionary=this.webpackJsonpdictionary||[]).push([[0],{28:function(e,t,n){e.exports=n(54)},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(4),i=n(0),o=n.n(i),u=n(23),s=n.n(u),l=(n(34),n(35),n(36),n(5)),f=n(6),d=n(9),h=n(7),p=n(14),v=n.n(p),w=n(24),m=n.n(w),b=n(25),g=n.n(b),y=[];window.words=y;var E={};window.entries=E;var j,k=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getItem("dictionary.json");case 2:if(t=e.sent){e.next=15;break}return n="".concat(new URL(window.location.href).pathname,"/dictionary.json"),e.next=7,fetch(n);case 7:if((r=e.sent).ok){e.next=10;break}return e.abrupt("return",{});case 10:return e.next=12,r.text();case 12:return t=e.sent,e.next=15,v.a.setItem("dictionary.json",t);case 15:return e.abrupt("return",JSON.parse(t));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j||(j=new Promise(function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.length){e.next=3;break}return t(),e.abrupt("return");case 3:return e.next=5,k();case 5:r=e.sent,e.t0=a.a.keys(r);case 7:if((e.t1=e.t0()).done){e.next=17;break}if(c=e.t1.value,0!==r.length&&r[c].some((function(e){return e.definition}))){e.next=11;break}return e.abrupt("continue",7);case 11:i=c.toLowerCase(),y.push(i),E[i]=r[c],E[i].word=i,e.next=7;break;case 17:y.sort(),globalThis.words=y,globalThis.entries=E,t();case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),e.abrupt("return",j);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();window.findByWildcard=function(e){var t=e.split("*").join(".*").split("?").join(".");return R(t)};var O=function(){function e(t){Object(d.a)(this,e),this.results=void 0,this.maxResults=void 0,this.results=[],this.maxResults=t}return Object(h.a)(e,[{key:"addResult",value:function(e,t){for(var n=0;n<this.results.length&&this.results[n].matchGoodness<=t;)n++;this.results.splice(n,0,{word:e,matchGoodness:t}),this.results.length>this.maxResults&&this.results.pop()}},{key:"toEntries",value:function(){return this.results.map((function(e){return E[e.word]}))}}]),e}(),S=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,i,o,u,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:5,e.next=3,x();case 3:r=new O(n),c=Object(f.a)(y);try{for(c.s();!(i=c.n()).done;)o=i.value,u=g.a.compareTwoStrings(t,o),r.addResult(o,-u)}catch(a){c.e(a)}finally{c.f()}return e.abrupt("return",r.toEntries());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,i,o,u,s,l,d=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:100,"string"===typeof t&&(t=new RegExp(t,"i")),e.next=4,x();case 4:r=new O(n),c=Object(f.a)(y),e.prev=6,c.s();case 8:if((i=c.n()).done){e.next=16;break}if(o=i.value,u=t.exec(o)){e.next=13;break}return e.abrupt("continue",14);case 13:r.addResult(o,u.index);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:if(0===(s=r.toEntries()).length){e.next=27;break}return e.abrupt("return",s);case 27:if((l=m()(t.source))!==t.source){e.next=30;break}return e.abrupt("return",s);case 30:return e.abrupt("return",R(l,n));case 31:case"end":return e.stop()}}),e,null,[[6,18,21,24]])})));return function(t){return e.apply(this,arguments)}}();window.findByRegex=R;var C=[],L=function(){var e,t=function(){var e=document.getSelection();if(!e)return null;if(0===e.rangeCount)return null;var t=e.toString().split(" ").filter((function(e){return e}));if(1!==t.length)return null;var n=t[0].trim();return 0===n.length?null:{word:n,rect:e.getRangeAt(0).getBoundingClientRect()}}(),n=Object(f.a)(C);try{for(n.s();!(e=n.n()).done;){(0,e.value)(t)}}catch(r){n.e(r)}finally{n.f()}};window.addEventListener("scroll",L,{passive:!0}),window.addEventListener("pushState",L),window.addEventListener("replaceState",L),document.addEventListener("selectionchange",L);var N=function(e){e.ctrlKey||(e.preventDefault(),window.history.pushState(null,"",e.currentTarget.href))},W=function(e){var t=e.word;return i.createElement("a",{href:"?query=".concat(t),onClick:N},t)},T=function(e){var t=e.definition;if(!t)return null;var n=t.split(/(___\w+)/g).map((function(e,t){return i.createElement(i.Fragment,{key:t},e.startsWith("___")?i.createElement(W,{word:e.substring("___".length)}):e)}));return i.createElement(i.Fragment,null,n)},_=function(e){var t=e.entry;return i.createElement("div",{className:"search-result"},i.createElement("h2",null,t.word),i.createElement("ul",null,t.map((function(e,t){return i.createElement("li",{key:t},i.createElement(T,{definition:e.definition}))}))))},B=function(e){var t=window.history[e];return function(){var n=t.apply(window.history,arguments),r=new Event(e);return r.arguments=arguments,window.dispatchEvent(r),n}};window.history.pushState=B("pushState"),window.history.replaceState=B("replaceState");var U=[],A=function(){var e,t=Object(f.a)(U);try{for(t.s();!(e=t.n()).done;){(0,e.value)(window.location.search)}}catch(n){t.e(n)}finally{t.f()}};window.addEventListener("pushState",A),window.addEventListener("replaceState",A),window.addEventListener("hashchange",A),window.addEventListener("popstate",A);var I=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),r=n[0],u=n[1],s=function(){var e=Object(i.useState)(window.location.search),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){return U.push(r),function(){var e=U.indexOf(r);U.splice(e,1)}})),n}(),f=function(e,t){var n=Object(i.useState)(e),r=Object(l.a)(n,2),a=r[0],c=r[1];return Object(i.useEffect)((function(){var n=setTimeout((function(){c(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),a}(r,500),d=Object(i.useState)(!0),h=Object(l.a)(d,2),p=h[0],v=h[1],w=Object(i.useState)([]),m=Object(l.a)(w,2),b=m[0],g=m[1],y=Object(i.useState)([]),E=Object(l.a)(y,2),j=E[0],k=E[1],x=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t||(t=r),v(!0),k([]),e.t0=g,e.next=6,R(t);case 6:e.t1=e.sent,(0,e.t0)(e.t1),v(!1),window.history.replaceState({},"Dictionary results for ".concat(t),"?query=".concat(encodeURIComponent(t)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=Object(i.useCallback)(function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,u(n),e.next=4,x(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);Object(i.useEffect)((function(){var e=new URLSearchParams(s),t=decodeURIComponent(e.get("query")||"");t!==r&&(u(t),x(t))}),[s]),Object(i.useEffect)((function(){0===b.length&&r===f&&r.length&&S(f).then(k)}),[f,r,b]),Object(i.useEffect)((function(){x()}),[]);var C=0!==j.length&&0===b.length;return o.a.createElement("div",null,o.a.createElement("div",{className:"search-header"},o.a.createElement("input",{className:"search-box",type:"search",value:r,placeholder:"search for words",onChange:O})),o.a.createElement("div",null,p||0!==b.length?b.map((function(e){return o.a.createElement(_,{entry:e,key:e.word})})):o.a.createElement("h2",null,"No results"),C&&o.a.createElement("div",null,o.a.createElement("h2",null,"Did you mean:"),o.a.createElement("ul",null,j.map((function(e){return o.a.createElement("li",{key:e.word},o.a.createElement(W,{word:e.word}))})))),p&&o.a.createElement("div",{className:"spinner"})))},P=n(56),q=function(){function e(t){Object(d.a)(this,e),this.rect=void 0,this.rect=t}return Object(h.a)(e,[{key:"getBoundingClientRect",value:function(){return this.rect}}]),Object(h.a)(e,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}}]),e}(),D=function(e){e.word;var t=function(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){return C.push(r),function(){var e=C.indexOf(r);-1!==e&&C.splice(e,1)}})),n}(),n=Object(i.useCallback)((function(){return window.history.pushState(null,"Dictionary","?query=".concat(encodeURIComponent(t?t.word:"")))}),[t]);if(!t)return null;var r=new q(t.rect);return o.a.createElement(P.a,{referenceElement:r,placement:"bottom"},(function(e){var t=e.ref,r=e.style,a=e.placement;return o.a.createElement("div",{ref:t,style:r,"data-placement":a,className:"word-tip"},o.a.createElement("button",{onClick:n},"Search"))}))};var J=function(){return o.a.createElement("div",{className:"dictionary"},o.a.createElement(I,null),o.a.createElement(D,{word:"foo"}))},F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}x(),s.a.render(o.a.createElement(J,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dictionary",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/dictionary","/service-worker.js");F?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):G(t,e)}))}}(),setTimeout(Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://bit.ly/3hRPp6S",{mode:"no-cors"});case 3:return e.prev=3,console.info("Logged page load!"),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])}))),1e3)}},[[28,1,2]]]);
//# sourceMappingURL=main.1d2d53e5.chunk.js.map